{% extends "base.html" %}

{% block content %}
<script type="text/javascript">
	function apresentaMenuVendas() {
	    var x = document.getElementById("menu_vendas");
	    if (x.style.display === "none") {
	        x.style.display = "block";
	    } else {
	        x.style.display = "none";
	    }
	}

	function apresentaMenuEstoque() {
	    var x = document.getElementById("menu_estoque");
	    if (x.style.display === "none") {
	        x.style.display = "block";
	    } else {
	        x.style.display = "none";
	    }
	}

</script>
<div class="w3-container w3-margin">
	<div class="w3-container w3-padding">
		<div>
			<h3>Painel do Gerente</h3>
		</div>
	</div>
	<div class="w3-container w3-padding">
		<button class="w3-button" onclick="apresentaMenuVendas()"><i class="fa fa-bars"></i>&nbsp Menu de Vendas - Apresentar/Esconder</button>
	</div>
	<div id="menu_vendas">
	<div class="w3-row-padding w3-margin-bottom">
	    <a href="{% url 'caixa' %}">
	    <div class="w3-quarter">
	      <div class="w3-container w3-green w3-padding-16" style="margin-left: 10px; margin-right: 10px">
	        <div class="w3-center">
	          <i class="fa fa-plus w3-xxlarge"></i>
	          <h4>Ir para o caixa</h4>
	        </div>
	      </div>
	    </div>
	    </a>

	    <a href="{% url 'novo_caixa' %}">
	    <div class="w3-quarter">
	      <div class="w3-container w3-teal w3-padding-16" style="margin-left: 10px; margin-right: 10px">
	        <div class="w3-center">
	          <i class="fa fa-plus w3-xxlarge"></i>
	          <h4>Novo Caixa</h4>
	        </div>
	      </div>
	    </div>
	    </a>

	    <a href="{% url 'novo_cliente' %}">
	    <div class="w3-quarter">
	      <div class="w3-container w3-orange w3-text-white w3-padding-16" style="margin-left: 10px; margin-right: 10px">
	        <div class="w3-center">
	          <i class="fa fa-plus w3-xxlarge"></i>
	          <h4>Novo Cliente</h4>
	        </div>
	      </div>
	    </div>
	    </a>
	    <a href="{% url 'painel_clientes' %}">
		    <div class="w3-quarter">
		      <div class="w3-container w3-dark-gray w3-padding-16" style="margin-left: 10px; margin-right: 10px">
		        <div class="w3-center">
		          <i class="fa fa-search w3-xxlarge"></i>
		          <h4>Consultar Clientes</h4>
		        </div>
		      </div>
			</div>
		</a>
	</div>
	<div class="w3-container w3-padding">
		<h3>Últimas 5 vendas realizadas</h3>
	</div>
	<div class="w3-container w3-margin">
		<table class="w3-table-all w3-hoverable">
			<thead>
				<tr class="w3-blue-grey">
					<th>Cliente</th>
					<th>Valor total</th>
					<th>Horário da venda</th>
					<th>Vendedor</th>
				</tr>
			</thead>
			{% for venda in vendas %}
			<tr class="w3-center">
				{% if venda.cliente_pf %}
					<td><strong>{{ venda.cliente_pf.nome_pf }}</strong></td>
				{% elif venda.cliente_pj %}
					<td><strong>{{ venda.cliente_pj.razao_social }}</strong></td>
				{% else %}
					<td>Cliente não cadastrado</td>
				{% endif %}
				<td>{{ venda.valor_total }}</td>
				<td>{{ venda.criado_em }}</td>
				<td>{{ venda.vendedor.nome_pf }}</td>
			</tr>
			{% endfor %}
		</table>
		<a class="w3-button w3-green w3-right" href="{% url 'painel_vendas' %}">Mais Vendas</a>
	</div>
	</div>
	<div class="w3-container w3-padding">
		<button class="w3-button" onclick="apresentaMenuEstoque()"><i class="fa fa-bars"></i>&nbsp Menu do Estoque - Apresentar/Esconder</button>
	</div>
	<div id="menu_estoque">
	<div class="w3-row-padding w3-margin-bottom" id="menu_vendas">
	    <a href="{% url 'novo_produto' %}">
	    <div class="w3-quarter">
	      <div class="w3-container w3-green w3-padding-16" style="margin-left: 10px; margin-right: 10px">
	        <div class="w3-center">
	          <i class="fa fa-plus w3-xxlarge"></i>
	          <h4>Novo Produto</h4>
	        </div>
	      </div>
	    </div>
	    </a>

	    <a href="{% url 'painel_produtos' %}">
	    <div class="w3-quarter">
	      <div class="w3-container w3-teal w3-padding-16" style="margin-left: 10px; margin-right: 10px">
	        <div class="w3-center">
	          <i class="fa fa-search w3-xxlarge"></i>
	          <h4>Painel de Produtos</h4>
	        </div>
	      </div>
	    </div>
	    </a>

	    <a href="{% url 'novo_fornecedor' %}">
	    <div class="w3-quarter">
	      <div class="w3-container w3-orange w3-text-white w3-padding-16" style="margin-left: 10px; margin-right: 10px">
	        <div class="w3-center">
	          <i class="fa fa-plus w3-xxlarge"></i>
	          <h4>Novo Fornecedor</h4>
	        </div>
	      </div>
	    </div>
	    </a>
	     <a href="{% url 'painel_fornecedores' %}">
		    <div class="w3-quarter">
		      <div class="w3-container w3-dark-gray w3-padding-16" style="margin-left: 10px; margin-right: 10px">
		        <div class="w3-center">
		          <i class="fa fa-search w3-xxlarge"></i>
		          <h4>Buscar Fornecedor</h4>
		        </div>
		      </div>
			</div>
		</a>
	  </div>
	<div class="w3-container w3-padding">
		<h3>Produtos que precisam de reposição</h3>
	</div>
	<div class="w3-container w3-margin">
		<table class="w3-table-all w3-hoverable">
			<thead>
				<tr class="w3-blue-grey">
					<th>Produto</th>
					<th>Categoria</th>
					<th>Estoque</th>
					<th>Estoque mínimo</th>
					<th>Ações</th>
				</tr>
			</thead>
			{% for produto in produtos %}
			<tr class="w3-center">
				<td><strong>{{ produto.nome_produto }}</strong></td>
				<td>{{ produto.categoria.nome_categoria }}</td>
				<td>{{ produto.quantidade }}</td>
				<td>{{ produto.estoque_minimo }}</td>
				<td>
					<a href="{% url 'edita_produto' pk=produto.pk %}"><i class="fa fa-edit fa-fw"></i></a>
            		&nbsp
        		   <a href="{% url 'reposicao' pk=produto.pk %}"><i class="fa fa-plus fa-fw"></i></a>
				</td>
			</tr>
			{% endfor %}
		</table>
	</div>
	<div class="w3-container w3-padding">
		<h3>Últimas 5 aquisições realizadas</h3>
	</div>
	<div class="w3-container w3-margin">
		<table class="w3-table-all w3-hoverable">
			<thead>
				<tr class="w3-blue-grey">
					<th>Data da Aquisição</th>
					<th>Produto Adquirido</th>
					<th>Quantidade Adquirida</th>
					<th>Realizada por</th>

				</tr>
			</thead>
			{% for aq in aquisicoes %}
			<tr class="w3-center">
				<td><strong>{{ aq.data_aquisicao }}</strong></td>
				<td>{{ aq.produto_adquirido.nome_produto }}</td>
				<td>{{ aq.quantidade_produto }}</td>
				<td>{{ aq.funcionario.nome_pf }}</td>
			</tr>
			{% endfor %}
		</table>
		<button class="w3-button w3-green w3-right">Mais Aquisições</button>
	</div>
	</div>
</div>

{% endblock %}